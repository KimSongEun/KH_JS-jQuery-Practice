<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <fieldset>
        <legend>ëª©ë¡ì°½</legend>
        <div id="list"></div>
    </fieldset><br>
    <!-- ë¬¸ì œ 1 -->
    <!-- ì…ë ¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ inline í˜•íƒœë¡œ insertIngredient í˜¸ì¶œë˜ê²Œ í•¨. -->
    <!-- ì¶œë ¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ inline í˜•íƒœë¡œ printIngredient í˜¸ì¶œë˜ê²Œ í•¨. -->
    <button id="btnInsert" onclick="insertIngredient();">ì…ë ¥</button>
    <button id="btnPrint" onclick="printIngredient();">ì¶œë ¥</button>
    <script>
        // ë¬¸ì œ 2
        // ì…ë ¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ addEventListenerë¥¼ ì‚¬ìš©í•˜ì—¬ insertIngredient í˜¸ì¶œë˜ê²Œ í•¨.
        // document.getElementById("btnInsert").addEventListener("click", insertIngredient);
        // ì¶œë ¥ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ addEventListenerë¥¼ ì‚¬ìš©í•˜ì—¬ printIngredient í˜¸ì¶œë˜ê²Œ í•¨.
        // document.getElementById("btnPrint").addEventListener("click", printIngredient);

        var member;
        function insertIngredient() {
            console.log("ì…ë ¥ ëˆŒë¦¼");
            // ë¬¸ì œ 3
            // ì¬ë£Œ : // ë‹¨ê°€ : // ìˆ˜ëŸ‰ì„ prompt ì°½ì„ ì´ìš©í•˜ì—¬ ì…ë ¥ë°›ì•„ ë³€ìˆ˜ ingredient, price, amount ì— ê°ê° ì €ì¥í•œë‹¤.
            var ingredient = prompt("ì¬ë£Œë¥¼ ì ì–´ì£¼ì„¸ìš”");
            var price = prompt("ë‹¨ê°€ë¥¼ ì ì–´ì£¼ì„¸ìš”");
            var amount = prompt("ìˆ˜ëŸ‰ì„ ì ì–´ì£¼ì„¸ìš”");
            console.log("ì¬ë£Œ : " + ingredient);
            console.log("ë‹¨ê°€ : " + price + "ì›");
            console.log("ìˆ˜ëŸ‰ : " + amount);

            member = {
                ingredient: ingredient,
                price: price,
                amount: amount,
                info: function () {
                    // ë¬¸ì œ 4
                    /* ì…ë ¥ë°›ì€ ê°’ì´ ì•„ë˜ì™€ ê°™ì´ ì¶œë ¥ë˜ë„ë¡ ì‘ì„±
                    ì¬ë£Œ : ë‹¹ê·¼
                    ë‹¨ê°€ : 200ì›
                    ìˆ˜ëŸ‰ : 3
                    */
                    var text = "";
                    text += "ğŸ¥— ì¬ë£Œ : " + member.ingredient + "<br>";
                    text += "ğŸ’¸ ë‹¨ê°€ : " + member.price + "<br>";
                    text += "ğŸ–ğŸ» ìˆ˜ëŸ‰ : " + member.amount + "<br><br>";
                    return text;
                }
            }
        }
        let eleCnt = 0;
        function printIngredient() {
            console.log("ì¶œë ¥ ëˆŒë¦¼");
            // ë¬¸ì œ 5
            // ì…ë ¥ëœ ë°ì´í„°ê°€ ìˆë‹¤ë©´ 
            if (member != undefined) {
                // member.infoë¥¼ ì´ìš©í•˜ì—¬ ì¶œë ¥ë°ì´í„°ë¥¼ list div ì•ˆì— píƒœê·¸ë¡œ í•˜ë‚˜ì”© ì¶”ê°€ë˜ê³  í•´ë‹¹ p íƒœê·¸ ë‹¤ìŒì— ì‚­ì œë²„íŠ¼ë„ ì¶”ê°€         
                eleCnt++;
                var data = document.createElement("p");
                data.innerHTML = member.info();
                var delBtn = document.createElement("button");
                delBtn.setAttribute("id", "ele_" + eleCnt);
                delBtn.setAttribute("style", "background-color: pink");
                delBtn.innerText = eleCnt + "ë²ˆ ì‚­ì œ";
                data.appendChild(delBtn);
                document.getElementById("list").appendChild(data);

                document.getElementById("ele_" + eleCnt).onclick = del;
            }

            else {
                alert("ì…ë ¥ì„ ë¨¼ì € ì§„í–‰í•´ì£¼ì„¸ìš”");
            }
        }

        // ë¬¸ì œ 6
        // ì‚­ì œë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í•´ë‹¹ p íƒœê·¸(ì‚­ì œë²„íŠ¼ ì´ì „ p íƒœê·¸)ê°€ ì‚­ì œ
        function del() {
            this.parentElement.remove();
        };
    </script>
</body>

</html>